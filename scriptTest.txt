Params
Numeric 	i(15);
Numeric 	j(14);


Vars
List<Numeric> 	G;
List<Numeric> 	H;
List<Numeric> 	I;
List<String> 	J;
List<Numeric>	currPrice;
List<Numeric>	stopPrice;
List<String>	operDirection;
List<String>	operDescription;

Exec
#LOOP
i
G(i) = AVG(E, i, j)
H(i) = G(i)+2*STDEV(E,i,j)
I(i) = G(i)-2*STDEV(E,i,j)
J(i) = IF(AND(B(i)>E(i),B(i)>G(i),E(i)<G(i)),1,IF(AND(B(i)<E(i),B(i)<G(i),E(i)>G(i)),2,IF(AND(B(i)<E(i),B(i)<H(i),E(i)>H(i)),1,IF(AND(B(i)>E(i),B(i)>I(i),E(i)<I(i)),2,''))))
operDirection(i)=IF(J(i)=='2','做多',IF(J(i)=='1','做空',''))
operDescription(i)=IF(J(i)=='2','做多，这是一种指标战法，不需要止损，历史回测亏损最严重的时为12%，9000根K线盈利211%，适合合约轻仓操作。',IF(J(i)=='1','做空，这是一种指标战法，不需要止损，历史回测亏损最严重的时为12%，19年1月起，9000根K线盈利211%，适合合约轻仓操作。', ''))
currPrice(i)=E(i)
stopPrice(i)=IF(J(i)=='2',E(i)*0.95,IF(J(i)=='1',E(i)*1.05,0.0))
#END
